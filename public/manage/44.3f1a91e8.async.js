(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[44],{vh8x:function(a,e,t){a.exports={salesCardExtra:"salesCardExtra___26cL8",salesTypeRadio:"salesTypeRadio___aVsJ9",salesCard:"salesCard___3lyty",salesBar:"salesBar___1982q",salesRank:"salesRank___1pg-P"}},xnWk:function(a,e,t){"use strict";t.r(e);t("IzEo");var s,n=t("bx4M"),r=(t("7Kak"),t("9yH6")),i=t("tJVT"),l=t("q1tI"),o=t.n(l),c=t("hGx1"),d=t("vN+2"),u=t.n(d),v=t("9kvl"),y=function(a){var e=a.dashboardAndanalysis.typeList||{},t=e.data,s=void 0===t?[]:t,n=e.total,r=void 0===n?0:n;return{data:s,total:r,loading:!!a.loading.effects["dashboardAndanalysis/getDataTypeStatisticsList"]}},f=function(a){return{fetchData:function(){return a({type:"dashboardAndanalysis/getDataTypeStatisticsList"})}}},m=t("vh8x"),p=t.n(m);(function(a){a["classify"]="classify",a["movie"]="movie"})(s||(s={}));var h=function(a){var e=a.loading,t=a.fetchData,d=void 0===t?u.a:t,v=a.data,y=void 0===v?[]:v,f=a.total,m=void 0===f?0:f,h=Object(l["useState"])(s.classify),_=Object(i["a"])(h,2),b=_[0],g=_[1],E=Object(l["useCallback"])((function(a){g(a.target.value)}),[]),x=Object(l["useMemo"])((function(){var a=1,e=Array.isArray(y)?y:[],t=e.reduce((function(e,t){var s=t.count,n=t.classify;n=void 0===n?{}:n;var r=n.name,i=(n._id,parseFloat(s));return!Number.isNaN(i)&&r&&a-i>=0&&(a-=i,e.push({x:r,y:i,value:m*i})),e}),[]);return 0!==a&&t.push({x:"\u672a\u77e5",y:a,value:m*a}),t}),[y]);return Object(l["useEffect"])((function(){d()}),[b]),o.a.createElement(n["a"],{loading:e,className:p.a.salesCard,bordered:!1,title:"\u6570\u636e\u5206\u7c7b\u5360\u6bd4",style:{height:"100%"},extra:o.a.createElement("div",{className:p.a.salesCardExtra},o.a.createElement("div",{className:p.a.salesTypeRadio},o.a.createElement(r["a"].Group,{value:b,onChange:E},o.a.createElement(r["a"].Button,{value:s.classify},"\u5206\u7c7b"),o.a.createElement(r["a"].Button,{value:s.movie},"\u6765\u6e90\u7c7b\u578b"))))},o.a.createElement("div",null,o.a.createElement("h4",{style:{marginTop:8,marginBottom:32}},"\u5206\u7c7b"),o.a.createElement(c["g"],{data:x,height:248,lineWidth:4})))};e["default"]=Object(v["a"])(y,f)(h)}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{3:function(e,n){},OcFg:function(e,n,o){},dcwh:function(e,n,o){"use strict";o.r(n),o.d(n,"PreView",(function(){return v}));o("J+/v");var t=o("MoRW"),c=(o("+L6B"),o("2/Rp")),a=o("q1tI"),i=o.n(a),r=o("9kvl"),l=(o("miYZ"),o("tsqr")),u=o("9og8"),s=o("k1fw"),f=o("tJVT"),g=o("WmNS"),d=o.n(g),p=o("8OJ3"),m=(o("/aIJ"),o("OcFg"),Object(a["forwardRef"])((function(e,n){var o=Object(a["useState"])(),t=Object(f["a"])(o,2),c=t[0],r=t[1];Object(a["useImperativeHandle"])(n,(function(){return Object(s["a"])(Object(s["a"])({},c),{},{reload:b})}));var g=Object(a["useCallback"])((function(e){e.on("timeupdate",(function(){var n=e.currentTime(),o=e.duration();console.log(n,o)})),e.on("loadstart",(function(e){console.log("\u5f00\u59cb\u8bf7\u6c42\u6570\u636e ",e)})),e.on("progress",(function(){console.log("\u6b63\u5728\u8bf7\u6c42\u6570\u636e ")})),e.on("loadedmetadata",(function(e){console.log(e),console.log("\u83b7\u53d6\u8d44\u6e90\u957f\u5ea6\u5b8c\u6210 ")})),e.on("canplaythrough",(function(){console.log("\u89c6\u9891\u6e90\u6570\u636e\u52a0\u8f7d\u5b8c\u6210")})),e.on("waiting",(function(){console.log("\u7b49\u5f85\u6570\u636e")})),e.on("play",(function(){console.log("\u89c6\u9891\u5f00\u59cb\u64ad\u653e")})),e.on("playing",(function(){console.log("\u89c6\u9891\u64ad\u653e\u4e2d")})),e.on("pause",(function(){console.log("\u89c6\u9891\u6682\u505c\u64ad\u653e")})),e.on("ended",(function(){console.log("\u89c6\u9891\u64ad\u653e\u7ed3\u675f")})),e.on("error",(function(){console.log("\u52a0\u8f7d\u9519\u8bef")})),e.on("seeking",(function(){console.log("\u89c6\u9891\u8df3\u8f6c\u4e2d")})),e.on("seeked",(function(){console.log("\u89c6\u9891\u8df3\u8f6c\u7ed3\u675f")})),e.on("ratechange",(function(){console.log("\u64ad\u653e\u901f\u7387\u6539\u53d8")})),e.on("timeupdate",(function(){console.log("\u64ad\u653e\u65f6\u957f\u6539\u53d8")})),e.on("volumechange",(function(){console.log("\u97f3\u91cf\u6539\u53d8")})),e.on("stalled",(function(){console.log("\u7f51\u901f\u5f02\u5e38")}))}),[]),m=Object(a["useCallback"])(Object(u["a"])(d.a.mark((function n(){var o;return d.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=Object(p["a"])("video",Object(s["a"])({autoplay:!0,controls:!0,loop:!1,muted:!1,poster:"https://img-home.csdnimg.cn/images/20201124032511.png",language:"zh-CN"},e)),r(o),g(o),b();case 4:case"end":return n.stop()}}),n)}))),[]),b=Object(a["useCallback"])((function(){c&&(v(),c.load())}),[c]),v=Object(a["useCallback"])((function(){if(c){var n=c.src();if(n&&!e.src)return l["default"].info("\u89c6\u9891\u5730\u5740\u9519\u8bef");if(e.src&&n!==e.src){c.pause();var o={src:e.src,type:"application/x-mpegURL"};c.src(o)}}}),[e.src,c]);return Object(a["useEffect"])((function(){return m(),function(){c&&c.dispose()}}),[]),Object(a["useEffect"])((function(){c&&b()}),[v,c,e.src]),i.a.createElement("video",{style:{width:200,height:200},className:"video-js vjs-big-play-centered",id:"video"})}))),b=Object(a["memo"])(m);function v(e,n){if(e){var o=Array.isArray(e)?e:[e];return r["c"].push({pathname:"/media/video",query:{url:o[0]}})}}var O=function(){var e=Object(a["useMemo"])((function(){var e=r["c"].location.query,n=e,o=n.url;return o}),[]),n=Object(a["useCallback"])((function(){r["c"].goBack()}),[]);return e?i.a.createElement(b,{src:"/api/static/video/".concat(e,".mp4")}):i.a.createElement(t["a"],{status:"404",title:"404",subTitle:"\u5bf9\u4e0d\u8d77\uff0c\u672a\u627e\u5230\u5bf9\u5e94\u89c6\u9891\u8d44\u6e90",extra:i.a.createElement(c["a"],{onClick:n,type:"primary"},"\u56de\u5230\u4e0a\u4e00\u9875")})};n["default"]=Object(a["memo"])(O)}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37,36,41],{"14J3":function(t,e,i){"use strict";i("cIOH"),i("1GLa")},3:function(t,e){},BMrR:function(t,e,i){"use strict";var n=i("qrJ5");e["a"]=n["a"]},BrEy:function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"d",(function(){return u})),i.d(e,"e",(function(){return h})),i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return f}));var n=i("9og8"),r=i("WmNS"),a=i.n(r),o=i("aaBP"),s=i.n(o),c=/^(?=[a-f\d]{24}$)(\d+[a-f]|[a-f]+\d)/i,l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5242880,i=t.size,r=0,o=new FileReader,c=Math.ceil(i/e),l=new s.a.ArrayBuffer,u=File.prototype.slice;return new Promise((function(s,h){function d(){var n=r*e,a=r+1===c?i:(r+1)*e,s=u.call(t,n,a);o.readAsArrayBuffer(s)}o.onload=function(){var t=Object(n["a"])(a.a.mark((function t(e){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.target){t.next=2;break}return t.abrupt("return",h("\u8bfb\u53d6\u9519\u8bef"));case 2:l.append(e.target.result),r++,r<c?d():s(l.end());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o.onerror=h,d()}))},u=function(t){return new Promise((function(e){setTimeout(e,t)}))},h=function(t){return btoa(t)},d=function(t){return c.test(t)},f=function(t,e){return Array.isArray(t)&&t.length>=e&&t.every(d)}},CAgN:function(t,e,i){},MucI:function(t,e,i){"use strict";i.r(e);i("T2oS");var n=i("W9HT"),r=i("9og8"),a=i("tJVT"),o=i("WmNS"),s=i.n(o),c=i("q1tI"),l=i.n(c),u=i("9kvl"),h=i("dqDI"),d=i("lzJ7"),f=i("dcwh"),m=i("CLrh"),p=i("0lfv"),v=function(){var t=Object(c["useState"])([]),e=Object(a["a"])(t,2),i=e[0],o=e[1],v=Object(c["useState"])(!0),b=Object(a["a"])(v,2),g=b[0],w=b[1],y=Object(c["useMemo"])((function(){var t=u["c"].location.query,e=t,i=e.url,n=void 0===i?[]:i;return Array.isArray(n)?n:[n]}),[]),x=Object(c["useCallback"])((function(t){Object(f["PreView"])(t.origin,!1)}),[]),k=Object(c["useCallback"])(function(){var t=Object(r["a"])(s.a.mark((function t(e){var i;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return w(!0),t.next=3,Object(h["a"])(e,function(){var t=Object(r["a"])(s.a.mark((function t(e){var i,n,r,o,c,l;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=new URL(e),n=i.pathname,t.next=3,Object(p["s"])(m["G"])({type:1,content:n});case 3:if(r=t.sent,o=Object(a["a"])(r,2),c=o[1],c){t.next=8;break}return t.abrupt("return",h["b"]);case 8:return l=c.list[0],t.abrupt("return",l?{src:l.poster,_id:l["_id"],origin:l.src}:h["b"]);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{concurrency:3});case 3:i=t.sent,o(i),w(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]);return Object(c["useEffect"])((function(){k(y)}),[y]),g?l.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(n["a"],null)):l.a.createElement(d["ImageList"],{value:i,onClick:x})};e["default"]=Object(c["memo"])(v)},OcFg:function(t,e,i){},bP8k:function(t,e,i){"use strict";i("cIOH"),i("jhiw")},dcwh:function(t,e,i){"use strict";i.r(e),i.d(e,"PreView",(function(){return w}));i("J+/v");var n=i("MoRW"),r=(i("+L6B"),i("2/Rp")),a=i("q1tI"),o=i.n(a),s=i("9kvl"),c=i("k1fw"),l=(i("miYZ"),i("tsqr")),u=i("tJVT"),h=i("9og8"),d=i("WmNS"),f=i.n(d),m=i("8OJ3"),p=i("CLrh"),v=i("BrEy"),b=(i("/aIJ"),i("OcFg"),Object(a["forwardRef"])((function(t,e){var i=Object(a["useRef"])(null),n=Object(a["useCallback"])((function(t){t.on("timeupdate",(function(){})),t.on("loadstart",(function(){})),t.on("progress",(function(){})),t.on("loadedmetadata",(function(){})),t.on("canplaythrough",(function(){})),t.on("waiting",(function(){})),t.on("play",(function(){})),t.on("playing",(function(){})),t.on("pause",(function(){})),t.on("ended",(function(){})),t.on("error",(function(){})),t.on("seeking",(function(){})),t.on("seeked",(function(){})),t.on("ratechange",(function(){})),t.on("timeupdate",(function(){})),t.on("volumechange",(function(){})),t.on("stalled",(function(){}))}),[]),r=Object(a["useCallback"])(function(){var t=Object(h["a"])(f.a.mark((function t(e){var i,n,r,a,o,s,c,l,h;return f.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=(null===e||void 0===e?void 0:e.split("/"))||[],a=r[r.length-1],a){t.next=4;break}return t.abrupt("return","video/mp4");case 4:return a=a.includes(".")?a.split(".")[0]:a,o={type:1},Object(v["b"])(a)?o["_id"]=a:o.content=a,t.next=9,Object(p["G"])(o);case 9:return s=t.sent,c=(null===s||void 0===s?void 0:s.list)||[],l=Object(u["a"])(c,1),h=l[0],t.abrupt("return",null===h||void 0===h||null===(i=h.info)||void 0===i||null===(n=i.mime)||void 0===n?void 0:n.toLowerCase());case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]),s=Object(a["useCallback"])(Object(h["a"])(f.a.mark((function e(){var n,a,o;return f.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i.current){e.next=2;break}return e.abrupt("return");case 2:if(n=i.current.src(),!n||t.src){e.next=6;break}return l["default"].info("\u89c6\u9891\u5730\u5740\u9519\u8bef"),e.abrupt("return");case 6:if(t.src){e.next=8;break}return e.abrupt("return");case 8:if(n!==t.src){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,r(t.src);case 12:a=e.sent,i.current.pause(),o={src:t.src,type:a||"video/mp4"},i.current.src(o);case 16:case"end":return e.stop()}}),e)}))),[t.src]),d=Object(a["useCallback"])(Object(h["a"])(f.a.mark((function t(){return f.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i.current){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,s();case 4:i.current.load();case 5:case"end":return t.stop()}}),t)}))),[]),b=Object(a["useCallback"])(Object(h["a"])(f.a.mark((function e(){var r;return f.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=Object(m["a"])("video",Object(c["a"])({autoplay:!0,controls:!0,loop:!1,muted:!1,poster:"https://img-home.csdnimg.cn/images/20201124032511.png",language:"zh-CN"},t)),i.current=r,n(r),d();case 4:case"end":return e.stop()}}),e)}))),[]);return Object(a["useImperativeHandle"])(e,(function(){return Object(c["a"])(Object(c["a"])({},i.current),{},{reload:d})})),Object(a["useEffect"])((function(){return b(),function(){var t,e;null===(t=i.current)||void 0===t||t.pause(),null===(e=i.current)||void 0===e||e.dispose()}}),[]),Object(a["useEffect"])((function(){i.current&&d()}),[s,t.src]),o.a.createElement("div",{style:{width:"100%",height:"100%"}},o.a.createElement("video",{style:{width:"100%",height:"100%"},className:"video-js vjs-big-play-centered",id:"video"}))}))),g=Object(a["memo"])(b);function w(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t){var i=Array.isArray(t)?t:[t],n=e?"/media/video/list":"/media/video";s["c"].push({pathname:n,query:{url:i}})}}var y=function(){var t=Object(a["useMemo"])((function(){var t=s["c"].location.query,e=t,i=e.url;return Array.isArray(i)?i[0]||"":i}),[]),e=Object(a["useCallback"])((function(){s["c"].goBack()}),[]);return t?o.a.createElement(g,{src:"/api/static/video/".concat(t,".mp4")}):o.a.createElement(n["a"],{status:"404",title:"404",subTitle:"\u5bf9\u4e0d\u8d77\uff0c\u672a\u627e\u5230\u5bf9\u5e94\u89c6\u9891\u8d44\u6e90",extra:o.a.createElement(r["a"],{onClick:e,type:"primary"},"\u56de\u5230\u4e0a\u4e00\u9875")})};e["default"]=Object(a["memo"])(y)},dqDI:function(t,e,i){"use strict";i.d(e,"a",(function(){return D})),i.d(e,"b",(function(){return L}));var n=i("rAM+"),r=i("tJVT"),a=i("9og8"),o=i("WmNS"),s=i.n(o),c=i("fWQN"),l=i("mtLc"),u=i("tS8v"),h=i("yKVA"),d=i("879j"),f=i("oZsa"),m=i("iZzK");function p(t){return-1!==Function.toString.call(t).indexOf("[native code]")}var v=i("cHpt");function b(t,e,i){return b=Object(v["a"])()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=Function.bind.apply(t,n),a=new r;return i&&Object(m["a"])(a,i.prototype),a},b.apply(null,arguments)}function g(t){var e="function"===typeof Map?new Map:void 0;return g=function(t){if(null===t||!p(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return b(t,arguments,Object(f["a"])(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Object(m["a"])(i,t)},g(t)}function w(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var y=0;function x(t){return"__private_"+y+++"_"+t}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.indent,r=void 0===n?" ":n,a=i.includeEmptyLines,o=void 0!==a&&a;if("string"!==typeof t)throw new TypeError("Expected `input` to be a `string`, got `".concat(typeof t,"`"));if("number"!==typeof e)throw new TypeError("Expected `count` to be a `number`, got `".concat(typeof e,"`"));if(e<0)throw new RangeError("Expected `count` to be at least 0, got `".concat(e,"`"));if("string"!==typeof r)throw new TypeError("Expected `options.indent` to be a `string`, got `".concat(typeof r,"`"));if(0===e)return t;var s=o?/^/gm:/^(?!\s*$)/gm;return t.replace(s,r.repeat(e))}var O=i(3),E=i.n(O);function j(t){if("string"!==typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var C=/\s+at.*[(\s](.*)\)?/,I=/^(?:(?:(?:node|node:[\w/]+|(?:(?:node:)?internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)(?:\.js)?:\d+:\d+)|native)/,S="undefined"===typeof E.a.homedir?"":E.a.homedir().replace(/\\/g,"/");function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.pretty,n=void 0!==i&&i,r=e.basePath,a=r&&new RegExp("(at | \\()".concat(j(r.replace(/\\/g,"/"))),"g");if("string"===typeof t)return t.replace(/\\/g,"/").split("\n").filter((function(t){var e=t.match(C);if(null===e||!e[1])return!0;var i=e[1];return!i.includes(".app/Contents/Resources/electron.asar")&&!i.includes(".app/Contents/Resources/default_app.asar")&&!I.test(i)})).filter((function(t){return""!==t.trim()})).map((function(t){return a&&(t=t.replace(a,"$1")),n&&(t=t.replace(C,(function(t,e){return t.replace(e,e.replace(S,"~"))}))),t})).join("\n")}var z=function(t){return t.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,"")},A=x("errors"),N=function(t){Object(h["a"])(i,t);var e=Object(d["a"])(i);function i(t){var n;if(Object(c["a"])(this,i),!Array.isArray(t))throw new TypeError("Expected input to be an Array, got ".concat(typeof t));t=t.map((function(t){return t instanceof Error?t:null!==t&&"object"===typeof t?Object.assign(new Error(t.message),t):new Error(t)}));var r=t.map((function(t){return"string"===typeof t.stack?z(T(t.stack)):String(t)})).join("\n");return r="\n"+k(r,4),n=e.call(this,r),Object.defineProperty(Object(u["a"])(n),A,{writable:!0,value:void 0}),n.name="AggregateError",w(Object(u["a"])(n),A)[A]=t,n}return Object(l["a"])(i,[{key:"errors",get:function(){return w(this,A)[A].slice()}}]),i}(g(Error));function D(t,e){return R.apply(this,arguments)}function R(){return R=Object(a["a"])(s.a.mark((function t(e,i){var o,c,l,u,h,d=arguments;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=d.length>2&&void 0!==d[2]?d[2]:{},c=o.concurrency,l=void 0===c?Number.POSITIVE_INFINITY:c,u=o.stopOnError,h=void 0===u||u,t.abrupt("return",new Promise((function(t,o){if(void 0===e[Symbol.iterator]&&void 0===e[Symbol.asyncIterator])throw new TypeError("Expected `input` to be either an `Iterable` or `AsyncIterable`, got (".concat(typeof e,")"));if("function"!==typeof i)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(l)&&l!==Number.POSITIVE_INFINITY||!(l>=1))throw new TypeError("Expected `concurrency` to be an integer from 1 and up or `Infinity`, got `".concat(l,"` (").concat(typeof l,")"));var c=[],u=[],d=new Map,f=!1,m=!1,p=!1,v=0,b=0,g=void 0===e[Symbol.iterator]?e[Symbol.asyncIterator]():e[Symbol.iterator](),w=function(t){f=!0,m=!0,o(t)},y=function(){var e=Object(a["a"])(s.a.mark((function e(){var o,l,f,x,k,O,E,j,C;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g.next();case 4:if(o=e.sent,l=b,b++,!o.done){e.next=41;break}if(p=!0,0!==v||m){e.next=40;break}if(h||!(u.length>0)){e.next=13;break}return w(new N(u)),e.abrupt("return");case 13:if(m=!0,d.size){e.next=17;break}return t(c),e.abrupt("return");case 17:f=[],x=Object(n["a"])(c.entries()),e.prev=19,x.s();case 21:if((k=x.n()).done){e.next=31;break}if(O=k.value,E=Object(r["a"])(O,2),j=E[0],C=E[1],d.get(j)!==L){e.next=28;break}return e.abrupt("continue",29);case 28:f.push(C);case 29:e.next=21;break;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e["catch"](19),x.e(e.t0);case 36:return e.prev=36,x.f(),e.finish(36);case 39:t(f);case 40:return e.abrupt("return");case 41:v++,Object(a["a"])(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.value;case 3:if(e=t.sent,!m){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,i(e,l);case 8:return n=t.sent,n===L&&d.set(l,n),c[l]=n,v--,t.next=14,y();case 14:t.next=32;break;case 16:if(t.prev=16,t.t0=t["catch"](0),!h){t.next=22;break}w(t.t0),t.next=32;break;case 22:return u.push(t.t0),v--,t.prev=24,t.next=27,y();case 27:t.next=32;break;case 29:t.prev=29,t.t1=t["catch"](24),w(t.t1);case 32:case"end":return t.stop()}}),t,null,[[0,16],[24,29]])})))();case 43:case"end":return e.stop()}}),e,null,[[19,33,36,39]])})));return function(){return e.apply(this,arguments)}}();Object(a["a"])(s.a.mark((function t(){var e;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<l)){t.next=16;break}return t.prev=2,t.next=5,y();case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t["catch"](2),w(t.t0),t.abrupt("break",16);case 11:if(!p&&!f){t.next=13;break}return t.abrupt("break",16);case 13:e++,t.next=1;break;case 16:case"end":return t.stop()}}),t,null,[[2,7]])})))()})));case 2:case"end":return t.stop()}}),t)}))),R.apply(this,arguments)}var L=Symbol("skip")},gFTJ:function(t,e,i){"use strict";i.d(e,"a",(function(){return O}));var n=i("rePB"),r=i("ODXe"),a=i("U8pU"),o=i("q1tI"),s=i("TSYQ"),c=i.n(s),l=i("Zm9Q"),u=i("ACnJ"),h=i("uaoM"),d=i("H84U"),f=i("wx14");function m(t){return void 0!==t&&null!==t}var p=function(t){var e,i=t.itemPrefixCls,r=t.component,a=t.span,s=t.className,l=t.style,u=t.labelStyle,h=t.contentStyle,d=t.bordered,f=t.label,p=t.content,v=t.colon,b=r;return d?o["createElement"](b,{className:c()((e={},Object(n["a"])(e,"".concat(i,"-item-label"),m(f)),Object(n["a"])(e,"".concat(i,"-item-content"),m(p)),e),s),style:l,colSpan:a},m(f)&&o["createElement"]("span",{style:u},f),m(p)&&o["createElement"]("span",{style:h},p)):o["createElement"](b,{className:c()("".concat(i,"-item"),s),style:l,colSpan:a},o["createElement"]("div",{className:"".concat(i,"-item-container")},f&&o["createElement"]("span",{className:c()("".concat(i,"-item-label"),Object(n["a"])({},"".concat(i,"-item-no-colon"),!v)),style:u},f),p&&o["createElement"]("span",{className:c()("".concat(i,"-item-content")),style:h},p)))},v=p;function b(t,e,i){var n=e.colon,r=e.prefixCls,a=e.bordered,s=i.component,c=i.type,l=i.showLabel,u=i.showContent,h=i.labelStyle,d=i.contentStyle;return t.map((function(t,e){var i=t.props,m=i.label,p=i.children,b=i.prefixCls,g=void 0===b?r:b,w=i.className,y=i.style,x=i.labelStyle,k=i.contentStyle,O=i.span,E=void 0===O?1:O,j=t.key;return"string"===typeof s?o["createElement"](v,{key:"".concat(c,"-").concat(j||e),className:w,style:y,labelStyle:Object(f["a"])(Object(f["a"])({},h),x),contentStyle:Object(f["a"])(Object(f["a"])({},d),k),span:E,colon:n,component:s,itemPrefixCls:g,bordered:a,label:l?m:null,content:u?p:null}):[o["createElement"](v,{key:"label-".concat(j||e),className:w,style:Object(f["a"])(Object(f["a"])(Object(f["a"])({},h),y),x),span:1,colon:n,component:s[0],itemPrefixCls:g,bordered:a,label:m}),o["createElement"](v,{key:"content-".concat(j||e),className:w,style:Object(f["a"])(Object(f["a"])(Object(f["a"])({},d),y),k),span:2*E-1,component:s[1],itemPrefixCls:g,bordered:a,content:p})]}))}var g=function(t){var e=o["useContext"](O),i=t.prefixCls,n=t.vertical,r=t.row,a=t.index,s=t.bordered;return n?o["createElement"](o["Fragment"],null,o["createElement"]("tr",{key:"label-".concat(a),className:"".concat(i,"-row")},b(r,t,Object(f["a"])({component:"th",type:"label",showLabel:!0},e))),o["createElement"]("tr",{key:"content-".concat(a),className:"".concat(i,"-row")},b(r,t,Object(f["a"])({component:"td",type:"content",showContent:!0},e)))):o["createElement"]("tr",{key:a,className:"".concat(i,"-row")},b(r,t,Object(f["a"])({component:s?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},e)))},w=g,y=function(t){var e=t.children;return e},x=y,k=i("0n0R"),O=o["createContext"]({}),E={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function j(t,e){if("number"===typeof t)return t;if("object"===Object(a["a"])(t))for(var i=0;i<u["b"].length;i++){var n=u["b"][i];if(e[n]&&void 0!==t[n])return t[n]||E[n]}return 3}function C(t,e,i){var n=t;return(void 0===e||e>i)&&(n=Object(k["a"])(t,{span:i}),Object(h["a"])(void 0===e,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),n}function I(t,e){var i=Object(l["a"])(t).filter((function(t){return t})),n=[],r=[],a=e;return i.forEach((function(t,o){var s,c=null===(s=t.props)||void 0===s?void 0:s.span,l=c||1;if(o===i.length-1)return r.push(C(t,c,a)),void n.push(r);l<a?(a-=l,r.push(t)):(r.push(C(t,l,a)),n.push(r),a=e,r=[])})),n}function S(t){var e,i=t.prefixCls,s=t.title,l=t.extra,h=t.column,f=void 0===h?E:h,m=t.colon,p=void 0===m||m,v=t.bordered,b=t.layout,g=t.children,y=t.className,x=t.style,k=t.size,C=t.labelStyle,S=t.contentStyle,T=o["useContext"](d["b"]),z=T.getPrefixCls,A=T.direction,N=z("descriptions",i),D=o["useState"]({}),R=Object(r["a"])(D,2),L=R[0],P=R[1],M=j(f,L);o["useEffect"]((function(){var t=u["a"].subscribe((function(t){"object"===Object(a["a"])(f)&&P(t)}));return function(){u["a"].unsubscribe(t)}}),[]);var F=I(g,M);return o["createElement"](O.Provider,{value:{labelStyle:C,contentStyle:S}},o["createElement"]("div",{className:c()(N,(e={},Object(n["a"])(e,"".concat(N,"-").concat(k),k&&"default"!==k),Object(n["a"])(e,"".concat(N,"-bordered"),!!v),Object(n["a"])(e,"".concat(N,"-rtl"),"rtl"===A),e),y),style:x},(s||l)&&o["createElement"]("div",{className:"".concat(N,"-header")},s&&o["createElement"]("div",{className:"".concat(N,"-title")},s),l&&o["createElement"]("div",{className:"".concat(N,"-extra")},l)),o["createElement"]("div",{className:"".concat(N,"-view")},o["createElement"]("table",null,o["createElement"]("tbody",null,F.map((function(t,e){return o["createElement"](w,{key:e,index:e,colon:p,prefixCls:N,vertical:"vertical"===b,bordered:v,row:t})})))))))}S.Item=x;e["b"]=S},hkKa:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("ODXe"),r=i("q1tI");function a(){var t=r["useReducer"]((function(t){return t+1}),0),e=Object(n["a"])(t,2),i=e[1];return i}},jCWc:function(t,e,i){"use strict";i("cIOH"),i("1GLa")},jhiw:function(t,e,i){},kPKH:function(t,e,i){"use strict";var n=i("/kpp");e["a"]=n["a"]},lzJ7:function(t,e,i){"use strict";i.r(e),i.d(e,"Preview",(function(){return M})),i.d(e,"ImageList",(function(){return F}));i("J+/v");var n=i("MoRW"),r=(i("+L6B"),i("2/Rp")),a=i("9og8"),o=i("fWQN"),s=i("mtLc"),c=i("yKVA"),l=i("879j"),u=(i("14J3"),i("BMrR")),h=(i("jCWc"),i("kPKH")),d=i("0Owb"),f=i("WmNS"),m=i.n(f),p=i("q1tI"),v=i.n(p),b=i("9kvl"),g=i("yCxO"),w=i.n(g),y=i("CLrh"),x=i("0lfv"),k=i("BrEy"),O=i("tJVT"),E=i("ymrT"),j=i("se+K"),C=i.n(j),I=function(t){var e=Object(p["useState"])(50),i=Object(O["a"])(e,2),n=i[0],a=i[1],o=Object(p["useCallback"])((function(){a(0)}),[]),s=Object(p["useCallback"])((function(){a(50)}),[]);return v.a.createElement("div",{className:C.a["image-viewer-affix"],style:{transform:"translateX(".concat(n,"%)")}},v.a.createElement(r["a"],{shape:"circle",onMouseEnter:o,onMouseLeave:s,onClick:t.onClick,icon:v.a.createElement(E["a"],null),type:"text"}))},S=Object(p["memo"])(I),T=(i("bbsP"),i("/wGt")),z=(i("giR+"),i("fyUT")),A=(i("bP8k"),i("gFTJ")),N=A["b"].Item,D=Object(p["forwardRef"])((function(t,e){var i=Object(p["useState"])(!1),a=Object(O["a"])(i,2),o=a[0],s=a[1],c=Object(p["useCallback"])((function(e){var i;s(!1),null===(i=t.onClose)||void 0===i||i.call(t,e)}),[t]);Object(p["useImperativeHandle"])(e,(function(){return{open:function(){return s(!0)},close:c}}));var l=Object(p["useCallback"])((function(){var e;return null===(e=t.instance)||void 0===e?void 0:e.move(0,-5)}),[t.instance]),u=Object(p["useCallback"])((function(){var e;return null===(e=t.instance)||void 0===e?void 0:e.move(-5,0)}),[t.instance]),h=Object(p["useCallback"])((function(){var e;return null===(e=t.instance)||void 0===e?void 0:e.move(5,0)}),[t.instance]),f=Object(p["useCallback"])((function(){var e;return null===(e=t.instance)||void 0===e?void 0:e.move(0,5)}),[t.instance]),m=Object(p["useCallback"])((function(e){var i,n="number"===typeof e?e:parseFloat(null!==e&&void 0!==e?e:"0");return n=Number.isNaN(n)?0:n,null===(i=t.instance)||void 0===i?void 0:i.rotate(n)}),[t.instance]),b=Object(p["useCallback"])((function(e){var i,n="number"===typeof e?e:parseFloat(null!==e&&void 0!==e?e:"0");return n=Number.isNaN(n)?0:n,null===(i=t.instance)||void 0===i?void 0:i.rotateTo(n)}),[t.instance]),g=Object(p["useCallback"])((function(){var e;null===(e=t.instance)||void 0===e||e.reset()}),[t.instance]);return v.a.createElement(T["a"],Object(d["a"])({visible:o,title:"\u56fe\u7247\u64cd\u4f5c"},t,{onClose:c}),!t.instance&&v.a.createElement(n["a"],{status:"404",title:"404",subTitle:"\u5bf9\u4e0d\u8d77\uff0c\u672a\u77e5\u539f\u56e0\u5bfc\u81f4\u65e0\u6cd5\u542f\u52a8\u56fe\u7247\u9884\u89c8\u529f\u80fd"}),!!t.instance&&v.a.createElement(A["b"],{bordered:!0,column:1,extra:v.a.createElement(r["a"],{type:"primary",onClick:g},"\u91cd\u7f6e"),size:"small"},v.a.createElement(N,{label:"\u79fb\u52a8"},v.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},v.a.createElement(r["a"],{type:"primary",onClick:l},"\u4e0a"),v.a.createElement(r["a"],{type:"primary",onClick:f},"\u4e0b"),v.a.createElement(r["a"],{type:"primary",onClick:u},"\u5de6"),v.a.createElement(r["a"],{type:"primary",onClick:h},"\u53f3"))),v.a.createElement(N,{label:"\u65cb\u8f6c"},v.a.createElement(z["a"],{defaultValue:90,onChange:m,style:{width:"100%"}})),v.a.createElement(N,{label:"\u65cb\u8f6c\u81f3"},v.a.createElement(z["a"],{defaultValue:270,onChange:b,style:{width:"100%"}}))))})),R=Object(p["memo"])(D),L=(i("CAgN"),i("trGc")),P=i.n(L);function M(t){if(t){var e=Array.isArray(t)?t:[t];b["c"].push({pathname:"/media/image",query:{url:e}})}}var F=function(t){var e=t.value,i=t.onClick;return v.a.createElement("div",{id:"image-viewer"},v.a.createElement(u["a"],{gutter:24},e.map((function(t,e){return v.a.createElement(h["a"],{xs:12,md:8,lg:6,key:(null===t||void 0===t?void 0:t.src)||e,style:{marginBottom:24},onClick:null===i||void 0===i?void 0:i.bind(null,t)},v.a.createElement("div",{className:P.a["image-viewer-item-wrapper"]},v.a.createElement("img",Object(d["a"])({className:P.a["image-viewer-item-content"]},t))))}))))},q=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;Object(o["a"])(this,i);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r)),t.configRef=Object(p["createRef"])(),t.instance=void 0,t.state={values:[]},t.componentDidMount=Object(a["a"])(m.a.mark((function e(){var i,n;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.getUrl(),e.next=3,t.fetchData(i);case 3:n=e.sent,Array.isArray(n)&&n.length&&t.instanceInit();case 5:case"end":return e.stop()}}),e)}))),t.componentWillUnmount=function(){var e;null===(e=t.instance)||void 0===e||e.destroy()},t.instanceInit=function(){var e=document.getElementById("image-viewer"),i=new w.a(e,{inline:!1,viewed:function(){i.zoomTo(1)},url:"src",title:[4,function(t,e){return"".concat(t.alt," (").concat(e.naturalWidth," \xd7 ").concat(e.naturalHeight,")")}]});t.instance=i},t.handleOpenConfig=function(){var e;null===(e=t.configRef.current)||void 0===e||e.open()},t.fetchData=function(){var e=Object(a["a"])(m.a.mark((function e(i){var n;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled(i.map((function(t){var e=t.src;return"string"!==typeof e||Object(k["b"])(e)?Object(y["G"])({type:0,_id:e}).then((function(t){return{src:Object(x["o"])(t.list[0].src)}})):{src:Object(x["o"])(e)}})));case 2:return n=e.sent,t.setState({values:n}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getUrl=function(){var t,e=b["c"].location.query,i=e||{},n=i.url,r=void 0===n?[]:n;return null===(t=Array.isArray(r)?r:[r])||void 0===t?void 0:t.map((function(t){return{src:t}}))},t.goback=function(){b["c"].goBack()},t}return Object(s["a"])(i,[{key:"render",value:function(){var t=this.state.values;return t&&t.length?v.a.createElement("div",{className:P.a["image-viewer-wrapper"]},v.a.createElement(F,{value:t}),v.a.createElement(S,{onClick:this.handleOpenConfig}),v.a.createElement(R,{ref:this.configRef,instance:this.instance,mask:!1,width:400})):v.a.createElement(n["a"],{status:"404",title:"404",subTitle:"\u5bf9\u4e0d\u8d77\uff0c\u5f53\u524d\u65e0\u56fe\u7247\u8d44\u6e90",extra:v.a.createElement(r["a"],{onClick:this.goback,type:"primary"},"\u56de\u5230\u4e0a\u4e00\u9875")})}}]),i}(p["PureComponent"]);e["default"]=q},"rAM+":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("Qw5x");function r(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=Object(n["a"])(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){c=!0,o=t},f:function(){try{s||null==i["return"]||i["return"]()}finally{if(c)throw o}}}}},"se+K":function(t,e,i){t.exports={"image-viewer-affix":"image-viewer-affix___2WuIV"}},trGc:function(t,e,i){t.exports={"image-viewer-wrapper":"image-viewer-wrapper___1jxNJ","image-viewer-item-wrapper":"image-viewer-item-wrapper___2sXFs","image-viewer-item-content":"image-viewer-item-content___2C4Je"}},yCxO:function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){"use strict";function t(e){return t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var s={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},c='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',l="undefined"!==typeof window&&"undefined"!==typeof window.document,u=l?window:{},h=!(!l||!u.document.documentElement)&&"ontouchstart"in u.document.documentElement,d=!!l&&"PointerEvent"in u,f="viewer",m="move",p="switch",v="zoom",b="".concat(f,"-active"),g="".concat(f,"-close"),w="".concat(f,"-fade"),y="".concat(f,"-fixed"),x="".concat(f,"-fullscreen"),k="".concat(f,"-fullscreen-exit"),O="".concat(f,"-hide"),E="".concat(f,"-hide-md-down"),j="".concat(f,"-hide-sm-down"),C="".concat(f,"-hide-xs-down"),I="".concat(f,"-in"),S="".concat(f,"-invisible"),T="".concat(f,"-loading"),z="".concat(f,"-move"),A="".concat(f,"-open"),N="".concat(f,"-show"),D="".concat(f,"-transition"),R="click",L="dblclick",P="dragstart",M="focusin",F="keydown",q="load",W=h?"touchend touchcancel":"mouseup",Y=h?"touchmove":"mousemove",X=h?"touchstart":"mousedown",H=d?"pointerdown":X,B=d?"pointermove":Y,V=d?"pointerup pointercancel":W,_="resize",J="transitionend",U="wheel",K="ready",Z="show",$="shown",G="hide",Q="hidden",tt="view",et="viewed",it="move",nt="moved",rt="rotate",at="rotated",ot="scale",st="scaled",ct="zoom",lt="zoomed",ut="play",ht="stop",dt="".concat(f,"Action"),ft=/\s\s*/,mt=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function pt(t){return"string"===typeof t}var vt=Number.isNaN||u.isNaN;function bt(t){return"number"===typeof t&&!vt(t)}function gt(t){return"undefined"===typeof t}function wt(e){return"object"===t(e)&&null!==e}var yt=Object.prototype.hasOwnProperty;function xt(t){if(!wt(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&yt.call(i,"isPrototypeOf")}catch(n){return!1}}function kt(t){return"function"===typeof t}function Ot(t,e){if(t&&kt(e))if(Array.isArray(t)||bt(t.length)){var i,n=t.length;for(i=0;i<n;i+=1)if(!1===e.call(t,t[i],i,t))break}else wt(t)&&Object.keys(t).forEach((function(i){e.call(t,t[i],i,t)}));return t}var Et=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return wt(t)&&i.length>0&&i.forEach((function(e){wt(e)&&Object.keys(e).forEach((function(i){t[i]=e[i]}))})),t},jt=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Ct(t,e){var i=t.style;Ot(e,(function(t,e){jt.test(e)&&bt(t)&&(t+="px"),i[e]=t}))}function It(t){return pt(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function St(t,e){return!(!t||!e)&&(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)}function Tt(t,e){if(t&&e)if(bt(t.length))Ot(t,(function(t){Tt(t,e)}));else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function zt(t,e){t&&e&&(bt(t.length)?Ot(t,(function(t){zt(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function At(t,e,i){e&&(bt(t.length)?Ot(t,(function(t){At(t,e,i)})):i?Tt(t,e):zt(t,e))}var Nt=/([a-z\d])([A-Z])/g;function Dt(t){return t.replace(Nt,"$1-$2").toLowerCase()}function Rt(t,e){return wt(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Dt(e)))}function Lt(t,e,i){wt(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(Dt(e)),i)}var Pt=function(){var t=!1;if(l){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});u.addEventListener("test",i,n),u.removeEventListener("test",i,n)}return t}();function Mt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(ft).forEach((function(e){if(!Pt){var a=t.listeners;a&&a[e]&&a[e][i]&&(r=a[e][i],delete a[e][i],0===Object.keys(a[e]).length&&delete a[e],0===Object.keys(a).length&&delete t.listeners)}t.removeEventListener(e,r,n)}))}function Ft(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(ft).forEach((function(e){if(n.once&&!Pt){var a=t.listeners,o=void 0===a?{}:a;r=function(){delete o[e][i],t.removeEventListener(e,r,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];i.apply(t,s)},o[e]||(o[e]={}),o[e][i]&&t.removeEventListener(e,o[e][i],n),o[e][i]=r,t.listeners=o}t.addEventListener(e,r,n)}))}function qt(t,e,i,n){var r;return kt(Event)&&kt(CustomEvent)?r=new CustomEvent(e,o({bubbles:!0,cancelable:!0,detail:i},n)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,i)),t.dispatchEvent(r)}function Wt(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function Yt(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,r=t.translateX,a=t.translateY,o=[];bt(r)&&0!==r&&o.push("translateX(".concat(r,"px)")),bt(a)&&0!==a&&o.push("translateY(".concat(a,"px)")),bt(e)&&0!==e&&o.push("rotate(".concat(e,"deg)")),bt(i)&&1!==i&&o.push("scaleX(".concat(i,")")),bt(n)&&1!==n&&o.push("scaleY(".concat(n,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Xt(t){return pt(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Ht=u.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(u.navigator.userAgent);function Bt(t,e,i){var n=document.createElement("img");if(t.naturalWidth&&!Ht)return i(t.naturalWidth,t.naturalHeight),n;var r=document.body||document.documentElement;return n.onload=function(){i(n.width,n.height),Ht||r.removeChild(n)},Ot(e.inheritedAttributes,(function(e){var i=t.getAttribute(e);null!==i&&n.setAttribute(e,i)})),n.src=t.src,Ht||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(n)),n}function Vt(t){switch(t){case 2:return C;case 3:return j;case 4:return E;default:return""}}function _t(t){var e=o({},t),i=[];return Ot(t,(function(t,n){delete e[n],Ot(e,(function(e){var n=Math.abs(t.startX-e.startX),r=Math.abs(t.startY-e.startY),a=Math.abs(t.endX-e.endX),o=Math.abs(t.endY-e.endY),s=Math.sqrt(n*n+r*r),c=Math.sqrt(a*a+o*o),l=(c-s)/s;i.push(l)}))})),i.sort((function(t,e){return Math.abs(t)<Math.abs(e)})),i[0]}function Jt(t,e){var i=t.pageX,n=t.pageY,r={endX:i,endY:n};return e?r:o({timeStamp:Date.now(),startX:i,startY:n},r)}function Ut(t){var e=0,i=0,n=0;return Ot(t,(function(t){var r=t.startX,a=t.startY;e+=r,i+=a,n+=1})),e/=n,i/=n,{pageX:e,pageY:i}}var Kt={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var t=this.element.ownerDocument,e=t.body||t.documentElement;this.body=e,this.scrollbarWidth=window.innerWidth-t.documentElement.clientWidth,this.initialBodyPaddingRight=e.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(e).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var t,e=this.options,i=this.parent;e.inline&&(t={width:Math.max(i.offsetWidth,e.minWidth),height:Math.max(i.offsetHeight,e.minHeight)},this.parentData=t),!this.fulled&&t||(t=this.containerData),this.viewerData=Et({},t)},renderViewer:function(){this.options.inline&&!this.fulled&&Ct(this.viewer,this.viewerData)},initList:function(){var t=this,e=this.element,i=this.options,n=this.list,r=[];n.innerHTML="",Ot(this.images,(function(e,a){var o=e.src,s=e.alt||Xt(o),c=t.getImageURL(e);if(o||c){var l=document.createElement("li"),u=document.createElement("img");Ot(i.inheritedAttributes,(function(t){var i=e.getAttribute(t);null!==i&&u.setAttribute(t,i)})),u.src=o||c,u.alt=s,u.setAttribute("data-original-url",c||o),l.setAttribute("data-index",a),l.setAttribute("data-viewer-action","view"),l.setAttribute("role","button"),i.keyboard&&l.setAttribute("tabindex",0),l.appendChild(u),n.appendChild(l),r.push(l)}})),this.items=r,Ot(r,(function(e){var n=e.firstElementChild;Lt(n,"filled",!0),i.loading&&Tt(e,T),Ft(n,q,(function(n){i.loading&&zt(e,T),t.loadImage(n)}),{once:!0})})),i.transition&&Ft(e,et,(function(){Tt(n,D)}),{once:!0})},renderList:function(t){var e=t||this.index,i=this.items[e].offsetWidth||30,n=i+1;Ct(this.list,Et({width:n*this.length},Yt({translateX:(this.viewerData.width-i)/2-n*e})))},resetList:function(){var t=this.list;t.innerHTML="",zt(t,D),Ct(t,Yt({translateX:0}))},initImage:function(t){var e,i=this,n=this.options,r=this.image,a=this.viewerData,o=this.footer.offsetHeight,s=a.width,c=Math.max(a.height-o,o),l=this.imageData||{};this.imageInitializing={abort:function(){e.onload=null}},e=Bt(r,n,(function(e,r){var a=e/r,o=s,u=c;i.imageInitializing=!1,c*a>s?u=s/a:o=c*a,o=Math.min(.9*o,e),u=Math.min(.9*u,r);var h=(s-o)/2,d=(c-u)/2,f={left:h,top:d,x:h,y:d,width:o,height:u,ratio:o/e,aspectRatio:a,naturalWidth:e,naturalHeight:r},m=Et({},f);n.rotatable&&(f.rotate=l.rotate||0,m.rotate=0),n.scalable&&(f.scaleX=l.scaleX||1,f.scaleY=l.scaleY||1,m.scaleX=1,m.scaleY=1),i.imageData=f,i.initialImageData=m,t&&t()}))},renderImage:function(t){var e=this,i=this.image,n=this.imageData;if(Ct(i,Et({width:n.width,height:n.height,marginLeft:n.x,marginTop:n.y},Yt(n))),t)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&St(i,D)){var r=function(){e.imageRendering=!1,t()};this.imageRendering={abort:function(){Mt(i,J,r)}},Ft(i,J,r,{once:!0})}else t()},resetImage:function(){if(this.viewing||this.viewed){var t=this.image;this.viewing&&this.viewing.abort(),t.parentNode.removeChild(t),this.image=null}}},Zt={bind:function(){var t=this.options,e=this.viewer,i=this.canvas,n=this.element.ownerDocument;Ft(e,R,this.onClick=this.click.bind(this)),Ft(e,P,this.onDragStart=this.dragstart.bind(this)),Ft(i,H,this.onPointerDown=this.pointerdown.bind(this)),Ft(n,B,this.onPointerMove=this.pointermove.bind(this)),Ft(n,V,this.onPointerUp=this.pointerup.bind(this)),Ft(n,F,this.onKeyDown=this.keydown.bind(this)),Ft(window,_,this.onResize=this.resize.bind(this)),t.zoomable&&t.zoomOnWheel&&Ft(e,U,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleOnDblclick&&Ft(i,L,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var t=this.options,e=this.viewer,i=this.canvas,n=this.element.ownerDocument;Mt(e,R,this.onClick),Mt(e,P,this.onDragStart),Mt(i,H,this.onPointerDown),Mt(n,B,this.onPointerMove),Mt(n,V,this.onPointerUp),Mt(n,F,this.onKeyDown),Mt(window,_,this.onResize),t.zoomable&&t.zoomOnWheel&&Mt(e,U,this.onWheel,{passive:!1,capture:!0}),t.toggleOnDblclick&&Mt(i,L,this.onDblclick)}},$t={click:function(t){var e=this.options,i=this.imageData,n=t.target,r=Rt(n,dt);switch(r||"img"!==n.localName||"li"!==n.parentElement.localName||(n=n.parentElement,r=Rt(n,dt)),h&&t.isTrusted&&n===this.canvas&&clearTimeout(this.clickCanvasTimeout),r){case"mix":this.played?this.stop():e.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(Rt(n,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(e.loop);break;case"play":this.play(e.fullscreen);break;case"next":this.next(e.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-i.scaleX||-1);break;case"flip-vertical":this.scaleY(-i.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(t){t.preventDefault(),this.viewed&&t.target===this.image&&(h&&t.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle())},load:function(){var t=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var e=this.element,i=this.options,n=this.image,r=this.index,a=this.viewerData;zt(n,S),i.loading&&zt(this.canvas,T),n.style.cssText="height:0;"+"margin-left:".concat(a.width/2,"px;")+"margin-top:".concat(a.height/2,"px;")+"max-width:none!important;position:absolute;width:0;",this.initImage((function(){At(n,z,i.movable),At(n,D,i.transition),t.renderImage((function(){t.viewed=!0,t.viewing=!1,kt(i.viewed)&&Ft(e,et,i.viewed,{once:!0}),qt(e,et,{originalImage:t.images[r],index:r,image:n},{cancelable:!1})}))}))},loadImage:function(t){var e=t.target,i=e.parentNode,n=i.offsetWidth||30,r=i.offsetHeight||50,a=!!Rt(e,"filled");Bt(e,this.options,(function(t,i){var o=t/i,s=n,c=r;r*o>n?a?s=r*o:c=n/o:a?c=n/o:s=r*o,Ct(e,Et({width:s,height:c},Yt({translateX:(n-s)/2,translateY:(r-c)/2})))}))},keydown:function(t){var e=this.options;if(e.keyboard){var i=t.keyCode||t.which||t.charCode;switch(i){case 13:this.viewer.contains(t.target)&&this.click(t);break}if(this.fulled)switch(i){case 27:this.played?this.stop():e.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(e.loop);break;case 38:t.preventDefault(),this.zoom(e.zoomRatio,!0);break;case 39:this.next(e.loop);break;case 40:t.preventDefault(),this.zoom(-e.zoomRatio,!0);break;case 48:case 49:t.ctrlKey&&(t.preventDefault(),this.toggle());break}}},dragstart:function(t){"img"===t.target.localName&&t.preventDefault()},pointerdown:function(t){var e=this.options,i=this.pointers,n=t.buttons,r=t.button;if(!(!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(bt(n)&&1!==n||bt(r)&&0!==r||t.ctrlKey))){t.preventDefault(),t.changedTouches?Ot(t.changedTouches,(function(t){i[t.identifier]=Jt(t)})):i[t.pointerId||0]=Jt(t);var a=!!e.movable&&m;e.zoomOnTouch&&e.zoomable&&Object.keys(i).length>1?a=v:e.slideOnTouch&&("touch"===t.pointerType||"touchstart"===t.type)&&this.isSwitchable()&&(a=p),!e.transition||a!==m&&a!==v||zt(this.image,D),this.action=a}},pointermove:function(t){var e=this.pointers,i=this.action;this.viewed&&i&&(t.preventDefault(),t.changedTouches?Ot(t.changedTouches,(function(t){Et(e[t.identifier]||{},Jt(t,!0))})):Et(e[t.pointerId||0]||{},Jt(t,!0)),this.change(t))},pointerup:function(t){var e,i=this,n=this.options,r=this.action,a=this.pointers;t.changedTouches?Ot(t.changedTouches,(function(t){e=a[t.identifier],delete a[t.identifier]})):(e=a[t.pointerId||0],delete a[t.pointerId||0]),r&&(t.preventDefault(),!n.transition||r!==m&&r!==v||Tt(this.image,D),this.action=!1,h&&r!==v&&e&&Date.now()-e.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),n.toggleOnDblclick&&this.viewed&&t.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout((function(){qt(i.image,L)}),50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout((function(){i.imageClicked=!1}),500)):(this.imageClicked=!1,n.backdrop&&"static"!==n.backdrop&&t.target===this.canvas&&(this.clickCanvasTimeout=setTimeout((function(){qt(i.canvas,R)}),50)))))},resize:function(){var t=this;if(this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage((function(){t.renderImage()})),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))return void this.stop();Ot(this.player.getElementsByTagName("img"),(function(e){Ft(e,q,t.loadImage.bind(t),{once:!0}),qt(e,q)}))}},wheel:function(t){var e=this;if(this.viewed&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50);var i=Number(this.options.zoomRatio)||.1,n=1;t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,!0,t)}}},Gt={show:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.element,i=this.options;if(i.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(t),this;if(kt(i.show)&&Ft(e,Z,i.show,{once:!0}),!1===qt(e,Z)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var n=this.viewer;if(zt(n,O),n.setAttribute("role","dialog"),n.setAttribute("aria-labelledby",this.title.id),n.setAttribute("aria-modal",!0),n.removeAttribute("aria-hidden"),i.transition&&!t){var r=this.shown.bind(this);this.transitioning={abort:function(){Mt(n,J,r),zt(n,I)}},Tt(n,D),n.initialOffsetWidth=n.offsetWidth,Ft(n,J,r,{once:!0}),Tt(n,I)}else Tt(n,I),this.shown();return this},hide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.element,n=this.options;if(n.inline||this.hiding||!this.isShown&&!this.showing)return this;if(kt(n.hide)&&Ft(i,G,n.hide,{once:!0}),!1===qt(i,G))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var r=this.viewer,a=this.image,o=function(){zt(r,I),t.hidden()};if(n.transition&&!e){var s=function e(i){i&&i.target===r&&(Mt(r,J,e),t.hidden())},c=function(){St(r,D)?(Ft(r,J,s),zt(r,I)):o()};this.transitioning={abort:function(){t.viewed&&St(a,D)?Mt(a,J,c):St(r,D)&&Mt(r,J,s)}},this.viewed&&St(a,D)?(Ft(a,J,c,{once:!0}),this.zoomTo(0,!1,!1,!0)):c()}else o();return this},view:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(e=Number(e)||0,this.hiding||this.played||e<0||e>=this.length||this.viewed&&e===this.index)return this;if(!this.isShown)return this.index=e,this.show();this.viewing&&this.viewing.abort();var i=this.element,n=this.options,r=this.title,a=this.canvas,o=this.items[e],s=o.querySelector("img"),c=Rt(s,"originalUrl"),l=s.getAttribute("alt"),u=document.createElement("img");if(Ot(n.inheritedAttributes,(function(t){var e=s.getAttribute(t);null!==e&&u.setAttribute(t,e)})),u.src=c,u.alt=l,kt(n.view)&&Ft(i,tt,n.view,{once:!0}),!1===qt(i,tt,{originalImage:this.images[e],index:e,image:u})||!this.isShown||this.hiding||this.played)return this;var h=this.items[this.index];zt(h,b),h.removeAttribute("aria-selected"),Tt(o,b),o.setAttribute("aria-selected",!0),n.focus&&o.focus(),this.image=u,this.viewed=!1,this.index=e,this.imageData={},Tt(u,S),n.loading&&Tt(a,T),a.innerHTML="",a.appendChild(u),this.renderList(),r.innerHTML="";var d,f=function(){var e=t.imageData,i=Array.isArray(n.title)?n.title[1]:n.title;r.innerHTML=It(kt(i)?i.call(t,u,e):"".concat(l," (").concat(e.naturalWidth," \xd7 ").concat(e.naturalHeight,")"))};return Ft(i,et,f,{once:!0}),this.viewing={abort:function(){Mt(i,et,f),u.complete?t.imageRendering?t.imageRendering.abort():t.imageInitializing&&t.imageInitializing.abort():(u.src="",Mt(u,q,d),t.timeout&&clearTimeout(t.timeout))}},u.complete?this.load():(Ft(u,q,d=this.load.bind(this),{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){zt(u,S),t.timeout=!1}),1e3)),this},prev:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.index-1;return e<0&&(e=t?this.length-1:0),this.view(e),this},next:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.length-1,i=this.index+1;return i>e&&(i=t?0:e),this.view(i),this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData;return this.moveTo(gt(t)?t:i.x+Number(t),gt(e)?e:i.y+Number(e)),this},moveTo:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.element,a=this.options,o=this.imageData;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&a.movable){var s=o.x,c=o.y,l=!1;if(bt(t)?l=!0:t=s,bt(i)?l=!0:i=c,l){if(kt(a.move)&&Ft(r,it,a.move,{once:!0}),!1===qt(r,it,{x:t,y:i,oldX:s,oldY:c,originalEvent:n}))return this;o.x=t,o.y=i,o.left=t,o.top=i,this.moving=!0,this.renderImage((function(){e.moving=!1,kt(a.moved)&&Ft(r,nt,a.moved,{once:!0}),qt(r,nt,{x:t,y:i,oldX:s,oldY:c,originalEvent:n},{cancelable:!1})}))}}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t)),this},rotateTo:function(t){var e=this,i=this.element,n=this.options,r=this.imageData;if(t=Number(t),bt(t)&&this.viewed&&!this.played&&n.rotatable){var a=r.rotate;if(kt(n.rotate)&&Ft(i,rt,n.rotate,{once:!0}),!1===qt(i,rt,{degree:t,oldDegree:a}))return this;r.rotate=t,this.rotating=!0,this.renderImage((function(){e.rotating=!1,kt(n.rotated)&&Ft(i,at,n.rotated,{once:!0}),qt(i,at,{degree:t,oldDegree:a},{cancelable:!1})}))}return this},scaleX:function(t){return this.scale(t,this.imageData.scaleY),this},scaleY:function(t){return this.scale(this.imageData.scaleX,t),this},scale:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.element,r=this.options,a=this.imageData;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&r.scalable){var o=a.scaleX,s=a.scaleY,c=!1;if(bt(t)?c=!0:t=o,bt(i)?c=!0:i=s,c){if(kt(r.scale)&&Ft(n,ot,r.scale,{once:!0}),!1===qt(n,ot,{scaleX:t,scaleY:i,oldScaleX:o,oldScaleY:s}))return this;a.scaleX=t,a.scaleY=i,this.scaling=!0,this.renderImage((function(){e.scaling=!1,kt(r.scaled)&&Ft(n,st,r.scaled,{once:!0}),qt(n,st,{scaleX:t,scaleY:i,oldScaleX:o,oldScaleY:s},{cancelable:!1})}))}}return this},zoom:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.imageData;return t=Number(t),t=t<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,e,i),this},zoomTo:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.element,o=this.options,s=this.pointers,c=this.imageData,l=c.x,u=c.y,h=c.width,d=c.height,f=c.naturalWidth,m=c.naturalHeight;if(t=Math.max(0,t),bt(t)&&this.viewed&&!this.played&&(r||o.zoomable)){if(!r){var p=Math.max(.01,o.minZoomRatio),v=Math.min(100,o.maxZoomRatio);t=Math.min(Math.max(t,p),v)}n&&o.zoomRatio>=.055&&t>.95&&t<1.05&&(t=1);var b=f*t,g=m*t,w=b-h,y=g-d,x=h/f;if(kt(o.zoom)&&Ft(a,ct,o.zoom,{once:!0}),!1===qt(a,ct,{ratio:t,oldRatio:x,originalEvent:n}))return this;if(this.zooming=!0,n){var k=Wt(this.viewer),O=s&&Object.keys(s).length?Ut(s):{pageX:n.pageX,pageY:n.pageY};c.x-=w*((O.pageX-k.left-l)/h),c.y-=y*((O.pageY-k.top-u)/d)}else c.x-=w/2,c.y-=y/2;c.left=c.x,c.top=c.y,c.width=b,c.height=g,c.ratio=t,this.renderImage((function(){e.zooming=!1,kt(o.zoomed)&&Ft(a,lt,o.zoomed,{once:!0}),qt(a,lt,{ratio:t,oldRatio:x,originalEvent:n},{cancelable:!1})})),i&&this.tooltip()}return this},play:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var i=this.element,n=this.options;if(kt(n.play)&&Ft(i,ut,n.play,{once:!0}),!1===qt(i,ut))return this;var r=this.player,a=this.loadImage.bind(this),o=[],s=0,c=0;if(this.played=!0,this.onLoadWhenPlay=a,e&&this.requestFullscreen(),Tt(r,N),Ot(this.items,(function(t,e){var i=t.querySelector("img"),l=document.createElement("img");l.src=Rt(i,"originalUrl"),l.alt=i.getAttribute("alt"),l.referrerPolicy=i.referrerPolicy,s+=1,Tt(l,w),At(l,D,n.transition),St(t,b)&&(Tt(l,I),c=e),o.push(l),Ft(l,q,a,{once:!0}),r.appendChild(l)})),bt(n.interval)&&n.interval>0){var l=function e(){t.playing=setTimeout((function(){zt(o[c],I),c+=1,c=c<s?c:0,Tt(o[c],I),e()}),n.interval)};s>1&&l()}return this},stop:function(){var t=this;if(!this.played)return this;var e=this.element,i=this.options;if(kt(i.stop)&&Ft(e,ht,i.stop,{once:!0}),!1===qt(e,ht))return this;var n=this.player;return this.played=!1,clearTimeout(this.playing),Ot(n.getElementsByTagName("img"),(function(e){Mt(e,q,t.onLoadWhenPlay)})),zt(n,N),n.innerHTML="",this.exitFullscreen(),this},full:function(){var t=this,e=this.options,i=this.viewer,n=this.image,r=this.list;return!this.isShown||this.played||this.fulled||!e.inline||(this.fulled=!0,this.open(),Tt(this.button,k),e.transition&&(zt(r,D),this.viewed&&zt(n,D)),Tt(i,y),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("style"),Ct(i,{zIndex:e.zIndex}),e.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Et({},this.containerData),this.renderList(),this.viewed&&this.initImage((function(){t.renderImage((function(){e.transition&&setTimeout((function(){Tt(n,D),Tt(r,D)}),0)}))}))),this},exit:function(){var t=this,e=this.options,i=this.viewer,n=this.image,r=this.list;return this.isShown&&!this.played&&this.fulled&&e.inline?(this.fulled=!1,this.close(),zt(this.button,k),e.transition&&(zt(r,D),this.viewed&&zt(n,D)),e.focus&&this.clearEnforceFocus(),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),zt(i,y),Ct(i,{zIndex:e.zIndexInline}),this.viewerData=Et({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage((function(){t.renderImage((function(){e.transition&&setTimeout((function(){Tt(n,D),Tt(r,D)}),0)}))})),this):this},tooltip:function(){var t=this,e=this.options,i=this.tooltipBox,n=this.imageData;return this.viewed&&!this.played&&e.tooltip?(i.textContent="".concat(Math.round(100*n.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):e.transition?(this.fading&&qt(i,J),Tt(i,N),Tt(i,w),Tt(i,D),i.removeAttribute("aria-hidden"),i.initialOffsetWidth=i.offsetWidth,Tt(i,I)):(Tt(i,N),i.removeAttribute("aria-hidden")),this.tooltipping=setTimeout((function(){e.transition?(Ft(i,J,(function(){zt(i,N),zt(i,w),zt(i,D),i.setAttribute("aria-hidden",!0),t.fading=!1}),{once:!0}),zt(i,I),t.fading=!0):(zt(i,N),i.setAttribute("aria-hidden",!0)),t.tooltipping=!1}),1e3),this):this},toggle:function(){return 1===this.imageData.ratio?this.zoomTo(this.initialImageData.ratio,!0):this.zoomTo(1,!0),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Et({},this.initialImageData),this.renderImage()),this},update:function(){var t=this,e=this.element,i=this.options,n=this.isImg;if(n&&!e.parentNode)return this.destroy();var r=[];if(Ot(n?[e]:e.querySelectorAll("img"),(function(e){kt(i.filter)?i.filter.call(t,e)&&r.push(e):t.getImageURL(e)&&r.push(e)})),!r.length)return this;if(this.images=r,this.length=r.length,this.ready){var a=[];if(Ot(this.items,(function(t,e){var i=t.querySelector("img"),n=r[e];n&&i&&n.src===i.src&&n.alt===i.alt||a.push(e)})),Ct(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var o=a.indexOf(this.index);if(o>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-o,this.length-1),0));else{var s=this.items[this.index];Tt(s,b),s.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var t=this.element,e=this.options;return t[f]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),e.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):e.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),e.inline||Mt(t,R,this.onStart),t[f]=void 0,this):this}},Qt={getImageURL:function(t){var e=this.options.url;return e=pt(e)?t.getAttribute(e):kt(e)?e.call(this,t):"",e},enforceFocus:function(){var t=this;this.clearEnforceFocus(),Ft(document,M,this.onFocusin=function(e){var i=e.target,n=t.viewer;i===document||i===n||n.contains(i)||n.focus()})},clearEnforceFocus:function(){this.onFocusin&&(Mt(document,M,this.onFocusin),this.onFocusin=null)},open:function(){var t=this.body;Tt(t,A),t.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px")},close:function(){var t=this.body;zt(t,A),t.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var t=this.element,e=this.options,i=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,e.focus&&(i.focus(),this.enforceFocus()),kt(e.shown)&&Ft(t,$,e.shown,{once:!0}),!1!==qt(t,$)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var t=this.element,e=this.options,i=this.viewer;e.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),Tt(i,O),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),i.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(kt(e.hidden)&&Ft(t,Q,e.hidden,{once:!0}),qt(t,Q,null,{cancelable:!1}))},requestFullscreen:function(){var t=this.element.ownerDocument;if(this.fulled&&!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)){var e=t.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},exitFullscreen:function(){var t=this.element.ownerDocument;this.fulled&&(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&(t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen())},change:function(t){var e=this.options,i=this.pointers,n=i[Object.keys(i)[0]];if(n){var r=n.endX-n.startX,a=n.endY-n.startY;switch(this.action){case m:this.move(r,a,t);break;case v:this.zoom(_t(i),!1,t);break;case p:this.action="switched";var o=Math.abs(r);o>1&&o>Math.abs(a)&&(this.pointers={},r>1?this.prev(e.loop):r<-1&&this.next(e.loop));break}Ot(i,(function(t){t.startX=t.endX,t.startY=t.endY}))}},isSwitchable:function(){var t=this.imageData,e=this.viewerData;return this.length>1&&t.x>=0&&t.y>=0&&t.width<=e.width&&t.height<=e.height}},te=u.Viewer,ee=function(t){return function(){return t+=1,t}}(-1),ie=function(){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e(this,t),!i||1!==i.nodeType)throw new Error("The first argument is required and must be an element.");this.element=i,this.options=Et({},s,xt(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.id=ee(),this.init()}return n(t,[{key:"init",value:function(){var t=this,e=this.element,i=this.options;if(!e[f]){e[f]=this,i.focus&&!i.keyboard&&(i.focus=!1);var n="img"===e.localName,r=[];if(Ot(n?[e]:e.querySelectorAll("img"),(function(e){kt(i.filter)?i.filter.call(t,e)&&r.push(e):t.getImageURL(e)&&r.push(e)})),this.isImg=n,this.length=r.length,this.images=r,this.initBody(),gt(document.createElement(f).style.transition)&&(i.transition=!1),i.inline){var a=0,o=function(){var e;(a+=1,a===t.length)&&(t.initializing=!1,t.delaying={abort:function(){clearTimeout(e)}},e=setTimeout((function(){t.delaying=!1,t.build()}),0))};this.initializing={abort:function(){Ot(r,(function(t){t.complete||Mt(t,q,o)}))}},Ot(r,(function(t){t.complete?o():Ft(t,q,o,{once:!0})}))}else Ft(e,R,this.onStart=function(e){var n=e.target;"img"!==n.localName||kt(i.filter)&&!i.filter.call(t,n)||t.view(t.images.indexOf(n))})}}},{key:"build",value:function(){if(!this.ready){var t=this.element,e=this.options,i=t.parentNode,n=document.createElement("div");n.innerHTML=c;var r=n.querySelector(".".concat(f,"-container")),a=r.querySelector(".".concat(f,"-title")),o=r.querySelector(".".concat(f,"-toolbar")),s=r.querySelector(".".concat(f,"-navbar")),l=r.querySelector(".".concat(f,"-button")),u=r.querySelector(".".concat(f,"-canvas"));if(this.parent=i,this.viewer=r,this.title=a,this.toolbar=o,this.navbar=s,this.button=l,this.canvas=u,this.footer=r.querySelector(".".concat(f,"-footer")),this.tooltipBox=r.querySelector(".".concat(f,"-tooltip")),this.player=r.querySelector(".".concat(f,"-player")),this.list=r.querySelector(".".concat(f,"-list")),r.id="".concat(f).concat(this.id),a.id="".concat(f,"Title").concat(this.id),Tt(a,e.title?Vt(Array.isArray(e.title)?e.title[0]:e.title):O),Tt(s,e.navbar?Vt(e.navbar):O),At(l,O,!e.button),e.keyboard&&l.setAttribute("tabindex",0),e.backdrop&&(Tt(r,"".concat(f,"-backdrop")),e.inline||"static"===e.backdrop||Lt(u,dt,"hide")),pt(e.className)&&e.className&&e.className.split(ft).forEach((function(t){Tt(r,t)})),e.toolbar){var h=document.createElement("ul"),d=xt(e.toolbar),m=mt.slice(0,3),p=mt.slice(7,9),v=mt.slice(9);d||Tt(o,Vt(e.toolbar)),Ot(d?e.toolbar:mt,(function(t,i){var n=d&&xt(t),r=d?Dt(i):t,a=n&&!gt(t.show)?t.show:t;if(a&&(e.zoomable||-1===m.indexOf(r))&&(e.rotatable||-1===p.indexOf(r))&&(e.scalable||-1===v.indexOf(r))){var o=n&&!gt(t.size)?t.size:t,s=n&&!gt(t.click)?t.click:t,c=document.createElement("li");e.keyboard&&c.setAttribute("tabindex",0),c.setAttribute("role","button"),Tt(c,"".concat(f,"-").concat(r)),kt(s)||Lt(c,dt,r),bt(a)&&Tt(c,Vt(a)),-1!==["small","large"].indexOf(o)?Tt(c,"".concat(f,"-").concat(o)):"play"===r&&Tt(c,"".concat(f,"-large")),kt(s)&&Ft(c,R,s),h.appendChild(c)}})),o.appendChild(h)}else Tt(o,O);if(!e.rotatable){var b=o.querySelectorAll('li[class*="rotate"]');Tt(b,S),Ot(b,(function(t){o.appendChild(t)}))}if(e.inline)Tt(l,x),Ct(r,{zIndex:e.zIndexInline}),"static"===window.getComputedStyle(i).position&&Ct(i,{position:"relative"}),i.insertBefore(r,t.nextSibling);else{Tt(l,g),Tt(r,y),Tt(r,w),Tt(r,O),Ct(r,{zIndex:e.zIndex});var k=e.container;pt(k)&&(k=t.ownerDocument.querySelector(k)),k||(k=this.body),k.appendChild(r)}e.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,kt(e.ready)&&Ft(t,K,e.ready,{once:!0}),!1!==qt(t,K)?this.ready&&e.inline&&this.view(this.index):this.ready=!1}}}],[{key:"noConflict",value:function(){return window.Viewer=te,t}},{key:"setDefaults",value:function(t){Et(s,xt(t)&&t)}}]),t}();return Et(ie.prototype,Kt,Zt,$t,Gt,Qt),ie}))},ymrT:function(t,e,i){"use strict";var n=i("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M553.1 509.1l-77.8 99.2-41.1-52.4a8 8 0 00-12.6 0l-99.8 127.2a7.98 7.98 0 006.3 12.9H696c6.7 0 10.4-7.7 6.3-12.9l-136.5-174a8.1 8.1 0 00-12.7 0zM360 442a40 40 0 1080 0 40 40 0 10-80 0zm494.6-153.4L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file-image",theme:"outlined"},a=r,o=i("6VBw"),s=function(t,e){return n["createElement"](o["a"],Object.assign({},t,{ref:e,icon:a}))};s.displayName="FileImageOutlined";e["a"]=n["forwardRef"](s)}}]);